{% extends "dashboard/base_dashboard.html" %}

{% block title %}Add Appointment{% endblock %}
{% block page_class %}add-appointment-page{% endblock %}

{% block content %}
<section class="add-appointment-section">
    <div class="section-header">
        <h3><i class="fa-solid fa-calendar-plus"></i> Add New Appointment</h3>
        <a href="{% url 'appointments' %}" class="btn-view-all">View Appointments</a>
    </div>

    <div class="form-wrapper">
        <form method="post" class="add-appointment-form">
            {% csrf_token %}
            
            <!-- Patient Selection -->
            <div class="form-group">
                <label for="patient">Select Patient (or type new):</label>
                <input type="text" name="patient_name" id="patient" placeholder="Enter patient name" required>
                <small>System will create a patient ID automatically if not registered.</small>
            </div>

            <!-- Phone -->
            <div class="form-group">
                <label for="phone">Phone Number:</label>
                <input type="text" name="phone" id="phone" placeholder="Patient phone number" required>
            </div>

            <!-- Age & Gender -->
            <div class="form-group-inline">
                <div class="form-group">
                    <label for="age">Age:</label>
                    <input type="number" name="age" id="age" min="0" required>
                </div>
                <div class="form-group">
                    <label for="gender">Gender:</label>
                    <select name="gender" id="gender" required>
                        <option value="">Select Gender</option>
                        <option value="M">Male</option>
                        <option value="F">Female</option>
                    </select>
                </div>
            </div>

            <!-- Appointment Date -->
            <div class="form-group">
                <label for="date">Appointment Date & Time:</label>
                <input type="datetime-local" name="date" id="date" required>
            </div>

            <!-- Doctor (optional if needed) -->
            <!-- If doctor auto-linked from session, skip -->

            <div class="form-actions">
                <button type="submit" class="btn-submit">Add Appointment</button>
                <a href="{% url 'appointments' %}" class="btn-cancel">Cancel</a>
            </div>
        </form>
    </div>
</section>
{% endblock %}
